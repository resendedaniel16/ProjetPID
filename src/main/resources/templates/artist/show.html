<!DOCTYPE html>
<html lang="fr"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{layouts/main :: body}">

<body>

<h1>Artist details</h1>

<p>
    <strong>Firstname:</strong>
    <span th:text="${artist.firstname}">Firstname</span>
</p>

<p>
    <strong>Lastname:</strong>
    <span th:text="${artist.lastname}">Lastname</span>
</p>

<hr/>

<!-- ACTIONS ADMIN UNIQUEMENT -->
<div sec:authorize="hasRole('ADMIN')">

    <p>
        <a th:href="@{/artists/{id}/edit(id=${artist.id})}">
            Edit artist
        </a>
    </p>

    <form th:action="@{/artists/{id}(id=${artist.id})}"
          method="post"
          style="display:inline;">

        <!-- mÃ©thode DELETE -->
        <input type="hidden" name="_method" value="delete"/>

        <button type="submit"
                onclick="return confirm('Are you sure you want to delete this artist?');">
            Delete artist
        </button>
    </form>

</div>

<hr/>

<p>
    <a th:href="@{/artists}">Back to artists list</a>
</p>

</body>
</html>
